install.packages("tidyverse", repos="http://cran.r-project.org")
library(tidyverse)
# Load libraries
library(Matrix)
library(dplyr)
library(tibble)
# Load libraries
library(Matrix)
library(dplyr)
library(tibble)
csc <- 0
ifelse(csc == 1, pathroot <- "/home/jernie/", pathroot <- "/Users/jeremiasnieminen/Dropbox/local_speech/")
partyvar <- expr(gender)
# Paths
input <- paste0(pathroot, 'analysis/input/')
output <- paste0(pathroot, 'analysis/temp/', partyvar, '/')
sprintf("Input path: %s, output path: %s", input, output)
suffix <- '-1907-2018-tf-100-df-10-ytf-10.csv'
set.seed(42)
start.time <- Sys.time()
#phrases         <- read.csv(file = paste0(input, "dictionary", suffix), header = TRUE, sep = "|")
C                <- read.csv(file = paste0(input, "bow", suffix), header = TRUE, sep = "|")
speaker_metadata <- read.csv(file = paste0(input, "speaker_metadata_bipartisan.csv"), header=TRUE, sep = "|")
speaker_metadata <- read.csv(file = paste0(input, "speaker_metadata_bipartisan.csv"), header=TRUE, sep = "|")
speaker_metadata <- speaker_metadata[which(speaker_metadata$year < 2019), ]
sprintf("Metadata len before dropping nan's: %g", nrow(speaker_metadata))
speaker_metadata <- speaker_metadata[which(speaker_metadata[[partyvar]] != ""), ]
sprintf("Metadata len after dropping nan's: %g", nrow(speaker_metadata))
speaker_metadata <- speaker_metadata[which(speaker_metadata$dialect != "Åland"), ]
sprintf("Metadata len after dropping Åland MPs: %g", nrow(speaker_metadata))
